<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Modern Blackjack 21</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap');

        :root {
            --table-color: #2d6a4f;
            --table-dark: #1b4332;
            --card-width: 100px;
            --card-height: 145px;
        }

        body {
            font-family: 'Poppins', sans-serif;
            background: radial-gradient(circle at center, var(--table-color), var(--table-dark));
            margin: 0;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            color: white;
            overflow-x: hidden;
        }

        h1 {
            font-size: 2.5rem;
            text-shadow: 0 4px 6px rgba(0,0,0,0.4);
            margin-bottom: 10px;
            color: #ffd700; /* AltÄ±n rengi */
        }

        /* Oyun AlanÄ± */
        .game-area {
            width: 90%;
            max-width: 800px;
            display: flex;
            flex-direction: column;
            gap: 30px;
        }

        .hand-section {
            text-align: center;
            background: rgba(0, 0, 0, 0.2);
            padding: 20px;
            border-radius: 15px;
            box-shadow: inset 0 0 20px rgba(0,0,0,0.3);
            min-height: 200px;
            transition: all 0.3s ease;
        }

        .score-board {
            font-size: 1.2rem;
            margin-bottom: 15px;
            font-weight: 600;
            display: inline-block;
            background: rgba(0,0,0,0.5);
            padding: 5px 15px;
            border-radius: 20px;
        }

        /* Kart AlanÄ± */
        .cards-container {
            display: flex;
            justify-content: center;
            flex-wrap: wrap;
            gap: 10px;
            perspective: 1000px;
        }

        /* Kart TasarÄ±mÄ± */
        .card {
            width: var(--card-width);
            height: var(--card-height);
            background: white;
            border-radius: 10px;
            display: flex;
            flex-direction: column;
            justify-content: space-between;
            padding: 10px;
            box-sizing: border-box;
            box-shadow: 0 5px 15px rgba(0,0,0,0.3);
            color: #333;
            font-weight: bold;
            position: relative;
            animation: dealCard 0.5s ease-out forwards;
            user-select: none;
        }

        @keyframes dealCard {
            from { opacity: 0; transform: translateY(-50px) rotateY(90deg); }
            to { opacity: 1; transform: translateY(0) rotateY(0); }
        }

        .card.red { color: #e74c3c; }
        .card.black { color: #2c3e50; }

        .card-value-top { font-size: 1.2rem; align-self: flex-start; }
        .card-suit { font-size: 2.5rem; align-self: center; }
        .card-value-bottom { font-size: 1.2rem; align-self: flex-end; transform: rotate(180deg); }

        /* Butonlar ve Kontroller */
        .controls {
            display: flex;
            gap: 15px;
            margin-top: 20px;
            justify-content: center;
        }

        button {
            padding: 12px 30px;
            font-size: 1rem;
            font-weight: bold;
            border: none;
            border-radius: 30px;
            cursor: pointer;
            transition: transform 0.2s, box-shadow 0.2s;
            font-family: 'Poppins', sans-serif;
        }

        button:active { transform: scale(0.95); }

        #btn-hit { background: #3498db; color: white; box-shadow: 0 4px 0 #2980b9; }
        #btn-stand { background: #e67e22; color: white; box-shadow: 0 4px 0 #d35400; }
        #btn-new { background: #2ecc71; color: white; box-shadow: 0 4px 0 #27ae60; display: none; }
        
        button:disabled {
            background: #95a5a6;
            box-shadow: none;
            cursor: not-allowed;
            opacity: 0.7;
        }

        #message-area {
            height: 40px;
            margin-top: 10px;
            font-size: 1.5rem;
            font-weight: bold;
            text-shadow: 0 2px 4px rgba(0,0,0,0.5);
            color: #fff;
        }

        /* Mobil Uyum */
        @media (max-width: 600px) {
            :root { --card-width: 70px; --card-height: 100px; }
            h1 { font-size: 1.8rem; }
            .card-suit { font-size: 1.8rem; }
        }
    </style>
</head>
<body>

    

[Image of blackjack table layout]


    <h1>Blackjack 21</h1>

    <div class="game-area">
        <div class="hand-section" id="dealer-section">
            <div class="score-board">Krupiye: <span id="dealer-score">0</span></div>
            <div class="cards-container" id="dealer-cards"></div>
        </div>

        <div id="message-area"></div>

        <div class="hand-section" id="player-section">
            <div class="score-board">Sen: <span id="player-score">0</span></div>
            <div class="cards-container" id="player-cards"></div>
        </div>
    </div>

    <div class="controls">
        <button id="btn-hit" onclick="hit()">Kart Ã‡ek</button>
        <button id="btn-stand" onclick="stand()">Kal (Stand)</button>
        <button id="btn-new" onclick="startGame()">Yeni Oyun</button>
    </div>

    <script>
        // Oyun DeÄŸiÅŸkenleri
        const suits = ["â™ ", "â™¥", "â™¦", "â™£"];
        const values = ["2", "3", "4", "5", "6", "7", "8", "9", "10", "J", "Q", "K", "A"];
        let deck = [];
        let playerHand = [];
        let dealerHand = [];
        let gameOver = false;

        // HTML Elementleri
        const dealerCardsDiv = document.getElementById('dealer-cards');
        const playerCardsDiv = document.getElementById('player-cards');
        const dealerScoreSpan = document.getElementById('dealer-score');
        const playerScoreSpan = document.getElementById('player-score');
        const messageArea = document.getElementById('message-area');
        const btnHit = document.getElementById('btn-hit');
        const btnStand = document.getElementById('btn-stand');
        const btnNew = document.getElementById('btn-new');

        // Oyunu BaÅŸlat
        function startGame() {
            deck = createDeck();
            shuffleDeck(deck);
            playerHand = [];
            dealerHand = [];
            gameOver = false;
            
            messageArea.innerText = "";
            btnHit.disabled = false;
            btnStand.disabled = false;
            btnNew.style.display = "none";

            // Ä°lk kartlarÄ± daÄŸÄ±t
            dealCard(playerHand);
            dealCard(dealerHand);
            dealCard(playerHand);
            dealCard(dealerHand);

            renderGame();
            checkForBlackjack();
        }

        // Deste OluÅŸturma
        function createDeck() {
            let newDeck = [];
            for (let suit of suits) {
                for (let value of values) {
                    let weight = parseInt(value);
                    if (value === "J" || value === "Q" || value === "K") weight = 10;
                    if (value === "A") weight = 11;
                    newDeck.push({ value: value, suit: suit, weight: weight });
                }
            }
            return newDeck;
        }

        // Desteyi KarÄ±ÅŸtÄ±rma (Fisher-Yates AlgoritmasÄ±)
        function shuffleDeck(deck) {
            for (let i = deck.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [deck[i], deck[j]] = [deck[j], deck[i]];
            }
        }

        // Kart Ã‡ekme Fonksiyonu
        function dealCard(hand) {
            const card = deck.pop();
            hand.push(card);
        }

        // Oyuncunun Kart Ä°stemesi (Hit)
        function hit() {
            if (gameOver) return;
            dealCard(playerHand);
            renderGame();
            
            if (calculateScore(playerHand) > 21) {
                endGame("Kaybettin! (Bust)");
            }
        }

        // Oyuncunun DurmasÄ± (Stand)
        function stand() {
            if (gameOver) return;
            
            // Krupiye mantÄ±ÄŸÄ±: 17'den kÃ¼Ã§Ã¼kse kart Ã§ekmek zorunda
            while (calculateScore(dealerHand) < 17) {
                dealCard(dealerHand);
            }
            
            renderGame(true); // Krupiyenin tÃ¼m kartlarÄ±nÄ± gÃ¶ster
            determineWinner();
        }

        // Puan Hesaplama
        function calculateScore(hand) {
            let score = 0;
            let aceCount = 0;

            for (let card of hand) {
                score += card.weight;
                if (card.value === "A") aceCount++;
            }

            // As kontrolÃ¼ (EÄŸer toplam 21'i geÃ§erse As 1 sayÄ±lÄ±r)
            while (score > 21 && aceCount > 0) {
                score -= 10;
                aceCount--;
            }
            return score;
        }

        // KazananÄ± Belirleme
        function determineWinner() {
            const pScore = calculateScore(playerHand);
            const dScore = calculateScore(dealerHand);

            if (dScore > 21) {
                endGame("Krupiye BattÄ±! KazandÄ±n! ðŸŽ‰");
            } else if (pScore > dScore) {
                endGame("KazandÄ±n! ðŸŽ‰");
            } else if (pScore < dScore) {
                endGame("Krupiye KazandÄ±.");
            } else {
                endGame("Berabere (Push)");
            }
        }

        // AnlÄ±k Blackjack KontrolÃ¼ (Ä°lk 2 kartta)
        function checkForBlackjack() {
            const pScore = calculateScore(playerHand);
            if (pScore === 21) {
                endGame("BLACKJACK! KazandÄ±n! ðŸ†");
            }
        }

        // Oyunu Bitirme
        function endGame(message) {
            gameOver = true;
            messageArea.innerText = message;
            btnHit.disabled = true;
            btnStand.disabled = true;
            btnNew.style.display = "inline-block";
            renderGame(true); // Oyun bitince krupiyenin kartÄ±nÄ± aÃ§
        }

        // Ekrana Ã‡izdirme (Render)
        function renderGame(showDealerAll = false) {
            // Oyuncu KartlarÄ±
            playerCardsDiv.innerHTML = "";
            playerHand.forEach(card => playerCardsDiv.appendChild(createCardElement(card)));
            playerScoreSpan.innerText = calculateScore(playerHand);

            // Krupiye KartlarÄ±
            dealerCardsDiv.innerHTML = "";
            dealerHand.forEach((card, index) => {
                // Oyun devam ediyorsa krupiyenin ilk kartÄ±nÄ± gizle (KapalÄ± kart mantÄ±ÄŸÄ±)
                if (index === 0 && !showDealerAll) {
                    const hiddenCard = document.createElement('div');
                    hiddenCard.className = 'card';
                    hiddenCard.style.background = `linear-gradient(135deg, #b00 25%, #900 25%, #900 50%, #b00 50%, #b00 75%, #900 75%, #900 100%)`;
                    hiddenCard.style.backgroundSize = "20px 20px";
                    hiddenCard.style.border = "2px solid white";
                    dealerCardsDiv.appendChild(hiddenCard);
                } else {
                    dealerCardsDiv.appendChild(createCardElement(card));
                }
            });

            // Krupiye skoru (Gizliyken sadece aÃ§Ä±k kartÄ± gÃ¶ster veya soru iÅŸareti koy)
            if (!showDealerAll) {
                // Sadece 2. kartÄ±n deÄŸerini kabaca gÃ¶steririz veya gizleriz, basitlik iÃ§in '?' diyelim
                dealerScoreSpan.innerText = "?"; 
            } else {
                dealerScoreSpan.innerText = calculateScore(dealerHand);
            }
        }

        // Kart HTML Elementi OluÅŸturucu
        function createCardElement(card) {
            const div = document.createElement('div');
            div.className = `card ${card.suit === 'â™¥' || card.suit === 'â™¦' ? 'red' : 'black'}`;
            
            div.innerHTML = `
                <div class="card-value-top">${card.value}</div>
                <div class="card-suit">${card.suit}</div>
                <div class="card-value-bottom">${card.value}</div>
            `;
            return div;
        }

        // Sayfa yÃ¼klendiÄŸinde oyunu baÅŸlat
        window.onload = startGame;

    </script>
</body>
</html>
